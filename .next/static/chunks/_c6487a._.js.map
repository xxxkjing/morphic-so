{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = 'DialogHeader'\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = 'DialogFooter'\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;AAQA,MAAM,SAAS,sKAAgB,IAAI;AAEnC,MAAM,gBAAgB,sKAAgB,OAAO;AAE7C,MAAM,eAAe,sKAAgB,MAAM;AAE3C,MAAM,cAAc,sKAAgB,KAAK;AAEzC,MAAM,8BAAgB,8JAAM,UAAU,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,8JAAM,UAAU,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,sKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,sKAAgB,KAAK;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,sKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,sKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,8JAAM,UAAU,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,sKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/hooks/use-copy-to-clipboard.ts"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\nexport interface useCopyToClipboardProps {\n  timeout?: number\n}\n\nexport function useCopyToClipboard({\n  timeout = 2000\n}: useCopyToClipboardProps) {\n  const [isCopied, setIsCopied] = useState<Boolean>(false)\n\n  const copyToClipboard = (value: string) => {\n    if (typeof window === 'undefined' || !navigator.clipboard?.writeText) {\n      return\n    }\n\n    if (!value) {\n      return\n    }\n\n    navigator.clipboard.writeText(value).then(() => {\n      setIsCopied(true)\n\n      setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n    })\n  }\n\n  return { isCopied, copyToClipboard }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAQO,SAAS,mBAAmB,EACjC,UAAU,IAAI,EACU;;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAElD,MAAM,kBAAkB,CAAC;QACvB,IAAI,OAAO,WAAW,eAAe,CAAC,UAAU,SAAS,EAAE,WAAW;YACpE;QACF;QAEA,IAAI,CAAC,OAAO;YACV;QACF;QAEA,UAAU,SAAS,CAAC,SAAS,CAAC,OAAO,IAAI,CAAC;YACxC,YAAY;YAEZ,WAAW;gBACT,YAAY;YACd,GAAG;QACL;IACF;IAEA,OAAO;QAAE;QAAU;IAAgB;AACrC;GAxBgB"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/spinner.tsx"],"sourcesContent":["// Based on: https://github.com/vercel/ai/blob/main/examples/next-ai-rsc/components/llm-stocks/spinner.tsx\n\nexport const Spinner = () => (\n  <svg\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"1.5\"\n    viewBox=\"0 0 24 24\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-5 w-5 animate-spin stroke-zinc-400\"\n  >\n    <path d=\"M12 3v3m6.366-.366-2.12 2.12M21 12h-3m.366 6.366-2.12-2.12M12 21v-3m-6.366.366 2.12-2.12M3 12h3m-.366-6.366 2.12 2.12\"></path>\n  </svg>\n)\n"],"names":[],"mappings":"AAAA,0GAA0G;;;;;;;AAEnG,MAAM,UAAU,kBACrB,6LAAC;QACC,MAAK;QACL,QAAO;QACP,aAAY;QACZ,SAAQ;QACR,eAAc;QACd,gBAAe;QACf,OAAM;QACN,WAAU;kBAEV,cAAA,6LAAC;YAAK,GAAE;;;;;;;;;;;KAXC"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat-share.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useTransition } from 'react'\nimport { Button } from './ui/button'\nimport { Share } from 'lucide-react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTrigger,\n  DialogDescription,\n  DialogTitle\n} from './ui/dialog'\nimport { shareChat } from '@/lib/actions/chat'\nimport { toast } from 'sonner'\nimport { useCopyToClipboard } from '@/lib/hooks/use-copy-to-clipboard'\nimport { Spinner } from './ui/spinner'\n\ninterface ChatShareProps {\n  chatId: string\n  className?: string\n}\n\nexport function ChatShare({ chatId, className }: ChatShareProps) {\n  const [open, setOpen] = useState(false)\n  const [pending, startTransition] = useTransition()\n  const { copyToClipboard } = useCopyToClipboard({ timeout: 1000 })\n  const [shareUrl, setShareUrl] = useState('')\n\n  const handleShare = async () => {\n    startTransition(() => {\n      setOpen(true)\n    })\n    const result = await shareChat(chatId)\n    if (!result) {\n      toast.error('Failed to share chat')\n      return\n    }\n\n    if (!result.sharePath) {\n      toast.error('Could not copy link to clipboard')\n      return\n    }\n\n    const url = new URL(result.sharePath, window.location.href)\n    setShareUrl(url.toString())\n  }\n\n  const handleCopy = () => {\n    if (shareUrl) {\n      copyToClipboard(shareUrl)\n      toast.success('Link copied to clipboard')\n      setOpen(false)\n    } else {\n      toast.error('No link to copy')\n    }\n  }\n\n  return (\n    <div className={className}>\n      <Dialog\n        open={open}\n        onOpenChange={open => setOpen(open)}\n        aria-labelledby=\"share-dialog-title\"\n        aria-describedby=\"share-dialog-description\"\n      >\n        <DialogTrigger asChild>\n          <Button\n            className=\"rounded-full\"\n            size=\"icon\"\n            variant={'ghost'}\n            onClick={() => setOpen(true)}\n          >\n            <Share size={14} />\n          </Button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Share link to search result</DialogTitle>\n            <DialogDescription>\n              Anyone with the link will be able to view this search result.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter className=\"items-center\">\n            {!shareUrl && (\n              <Button onClick={handleShare} disabled={pending} size=\"sm\">\n                {pending ? <Spinner /> : 'Get link'}\n              </Button>\n            )}\n            {shareUrl && (\n              <Button onClick={handleCopy} disabled={pending} size=\"sm\">\n                {'Copy link'}\n              </Button>\n            )}\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;;;;;AAwBO,SAAS,UAAU,EAAE,MAAM,EAAE,SAAS,EAAkB;;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;IAC/C,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,qBAAkB,AAAD,EAAE;QAAE,SAAS;IAAK;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,cAAc;QAClB,gBAAgB;YACd,QAAQ;QACV;QACA,MAAM,SAAS,MAAM,CAAA,GAAA,yHAAA,CAAA,YAAS,AAAD,EAAE;QAC/B,IAAI,CAAC,QAAQ;YACX,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,OAAO,SAAS,EAAE;YACrB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,MAAM,IAAI,IAAI,OAAO,SAAS,EAAE,OAAO,QAAQ,CAAC,IAAI;QAC1D,YAAY,IAAI,QAAQ;IAC1B;IAEA,MAAM,aAAa;QACjB,IAAI,UAAU;YACZ,gBAAgB;YAChB,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,QAAQ;QACV,OAAO;YACL,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW;kBACd,cAAA,6LAAC,8HAAA,CAAA,SAAM;YACL,MAAM;YACN,cAAc,CAAA,OAAQ,QAAQ;YAC9B,mBAAgB;YAChB,oBAAiB;;8BAEjB,6LAAC,8HAAA,CAAA,gBAAa;oBAAC,OAAO;8BACpB,cAAA,6LAAC,8HAAA,CAAA,SAAM;wBACL,WAAU;wBACV,MAAK;wBACL,SAAS;wBACT,SAAS,IAAM,QAAQ;kCAEvB,cAAA,6LAAC,uMAAA,CAAA,QAAK;4BAAC,MAAM;;;;;;;;;;;;;;;;8BAGjB,6LAAC,8HAAA,CAAA,gBAAa;;sCACZ,6LAAC,8HAAA,CAAA,eAAY;;8CACX,6LAAC,8HAAA,CAAA,cAAW;8CAAC;;;;;;8CACb,6LAAC,8HAAA,CAAA,oBAAiB;8CAAC;;;;;;;;;;;;sCAIrB,6LAAC,8HAAA,CAAA,eAAY;4BAAC,WAAU;;gCACrB,CAAC,0BACA,6LAAC,8HAAA,CAAA,SAAM;oCAAC,SAAS;oCAAa,UAAU;oCAAS,MAAK;8CACnD,wBAAU,6LAAC,+HAAA,CAAA,UAAO;;;;+CAAM;;;;;;gCAG5B,0BACC,6LAAC,8HAAA,CAAA,SAAM;oCAAC,SAAS;oCAAY,UAAU;oCAAS,MAAK;8CAClD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;GA5EgB;;QAEqB,6JAAA,CAAA,gBAAa;QACpB,iJAAA,CAAA,qBAAkB;;;KAHhC"}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/user-message.tsx"],"sourcesContent":["import React from 'react'\nimport { ChatShare } from './chat-share'\n\ntype UserMessageProps = {\n  message: string\n  chatId?: string\n  showShare?: boolean\n}\n\nexport const UserMessage: React.FC<UserMessageProps> = ({\n  message,\n  chatId,\n  showShare = false\n}) => {\n  const enableShare = process.env.ENABLE_SHARE === 'true'\n  return (\n    <div className=\"flex items-center w-full space-x-1 mt-2 min-h-10\">\n      <div className=\"text-xl flex-1 break-words w-full\">{message}</div>\n      {enableShare && showShare && chatId && <ChatShare chatId={chatId} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AASO,MAAM,cAA0C,CAAC,EACtD,OAAO,EACP,MAAM,EACN,YAAY,KAAK,EAClB;IACC,MAAM,cAAc,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,YAAY,KAAK;IACjD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAqC;;;;;;YACnD,eAAe,aAAa,wBAAU,6LAAC,+HAAA,CAAA,YAAS;gBAAC,QAAQ;;;;;;;;;;;;AAGhE;KAZa"}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/empty-screen.tsx"],"sourcesContent":["import { Button } from '@/components/ui/button'\nimport { ArrowRight } from 'lucide-react'\n\nconst exampleMessages = [\n  {\n    heading: 'What is GPT-4o mini?',\n    message: 'What is GPT-4o mini?'\n  },\n  {\n    heading: 'Why is Nvidia growing rapidly?',\n    message: 'Why is Nvidia growing rapidly?'\n  },\n  {\n    heading: 'How does the Vercel AI SDK work?',\n    message: 'How does the Vercel AI SDK work?'\n  },\n  {\n    heading: 'Tesla vs Rivian',\n    message: 'Tesla vs Rivian'\n  }\n]\nexport function EmptyScreen({\n  submitMessage,\n  className\n}: {\n  submitMessage: (message: string) => void\n  className?: string\n}) {\n  return (\n    <div className={`mx-auto w-full transition-all ${className}`}>\n      <div className=\"bg-background p-2\">\n        <div className=\"mt-4 flex flex-col items-start space-y-2 mb-4\">\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,kBAAkB;IACtB;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;IACA;QACE,SAAS;QACT,SAAS;IACX;CACD;AACM,SAAS,YAAY,EAC1B,aAAa,EACb,SAAS,EAIV;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,8BAA8B,EAAE,UAAU,CAAC;kBAC1D,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;;;;;;AAKvB;KAfgB"}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat-panel.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport type { AI, UIState } from '@/app/actions'\nimport { useUIState, useActions, useAIState } from 'ai/rsc'\nimport { cn } from '@/lib/utils'\nimport { UserMessage } from './user-message'\nimport { Button } from './ui/button'\nimport { ArrowRight, Plus } from 'lucide-react'\nimport { EmptyScreen } from './empty-screen'\nimport Textarea from 'react-textarea-autosize'\nimport { generateId } from 'ai'\nimport { useAppState } from '@/lib/utils/app-state'\n\ninterface ChatPanelProps {\n  messages: UIState\n  query?: string\n}\n\nexport function ChatPanel({ messages, query }: ChatPanelProps) {\n  const [input, setInput] = useState('')\n  const [showEmptyScreen, setShowEmptyScreen] = useState(false)\n  const [, setMessages] = useUIState<typeof AI>()\n  const [aiMessage, setAIMessage] = useAIState<typeof AI>()\n  const { isGenerating, setIsGenerating } = useAppState()\n  const { submit } = useActions()\n  const router = useRouter()\n  const inputRef = useRef<HTMLTextAreaElement>(null)\n  const isFirstRender = useRef(true) // For development environment\n\n  async function handleQuerySubmit(query: string, formData?: FormData) {\n    setInput(query)\n    setIsGenerating(true)\n\n    // Add user message to UI state\n    setMessages(currentMessages => [\n      ...currentMessages,\n      {\n        id: generateId(),\n        component: <UserMessage message={query} />\n      }\n    ])\n\n    // Submit and get response message\n    const data = formData || new FormData()\n    if (!formData) {\n      data.append('input', query)\n    }\n    const responseMessage = await submit(data)\n    setMessages(currentMessages => [...currentMessages, responseMessage])\n  }\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    const formData = new FormData(e.currentTarget)\n    await handleQuerySubmit(input, formData)\n  }\n\n  // if query is not empty, submit the query\n  useEffect(() => {\n    if (isFirstRender.current && query && query.trim().length > 0) {\n      handleQuerySubmit(query)\n      isFirstRender.current = false\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query])\n\n  useEffect(() => {\n    const lastMessage = aiMessage.messages.slice(-1)[0]\n    if (lastMessage?.type === 'followup' || lastMessage?.type === 'inquiry') {\n      setIsGenerating(false)\n    }\n  }, [aiMessage, setIsGenerating])\n\n  // Clear messages\n  const handleClear = () => {\n    setIsGenerating(false)\n    setMessages([])\n    setAIMessage({ messages: [], chatId: '' })\n    setInput('')\n    router.push('/')\n  }\n\n  useEffect(() => {\n    // focus on input when the page loads\n    inputRef.current?.focus()\n  }, [])\n\n  // If there are messages and the new button has not been pressed, display the new Button\n  if (messages.length > 0) {\n    return (\n      <div className=\"fixed bottom-2 md:bottom-8 left-0 right-0 flex justify-center items-center mx-auto pointer-events-none\">\n        <Button\n          type=\"button\"\n          variant={'secondary'}\n          className=\"rounded-full bg-secondary/80 group transition-all hover:scale-105 pointer-events-auto\"\n          onClick={() => handleClear()}\n          disabled={isGenerating}\n        >\n          <span className=\"text-sm mr-2 group-hover:block hidden animate-in fade-in duration-300\">\n            New\n          </span>\n          <Plus size={18} className=\"group-hover:rotate-90 transition-all\" />\n        </Button>\n      </div>\n    )\n  }\n\n  if (query && query.trim().length > 0) {\n    return null\n  }\n\n  return (\n    <div\n      className={\n        'fixed bottom-8 left-0 right-0 top-10 mx-auto h-screen flex flex-col items-center justify-center'\n      }\n    >\n      <form onSubmit={handleSubmit} className=\"max-w-2xl w-full px-6\">\n        <div className=\"relative flex items-center w-full\">\n          <Textarea\n            ref={inputRef}\n            name=\"input\"\n            rows={1}\n            maxRows={5}\n            tabIndex={0}\n            placeholder=\"Ask anything......\"\n            spellCheck={false}\n            value={input}\n            className=\"resize-none w-full min-h-12 rounded-fill bg-muted border border-input pl-4 pr-10 pt-3 pb-1 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50'\"\n            onChange={e => {\n              setInput(e.target.value)\n              setShowEmptyScreen(e.target.value.length === 0)\n            }}\n            onKeyDown={e => {\n              // Enter should submit the form\n              if (\n                e.key === 'Enter' &&\n                !e.shiftKey &&\n                !e.nativeEvent.isComposing\n              ) {\n                // Prevent the default action to avoid adding a new line\n                if (input.trim().length === 0) {\n                  e.preventDefault()\n                  return\n                }\n                e.preventDefault()\n                const textarea = e.target as HTMLTextAreaElement\n                textarea.form?.requestSubmit()\n              }\n            }}\n            onHeightChange={height => {\n              // Ensure inputRef.current is defined\n              if (!inputRef.current) return\n\n              // The initial height and left padding is 70px and 2rem\n              const initialHeight = 70\n              // The initial border radius is 32px\n              const initialBorder = 32\n              // The height is incremented by multiples of 20px\n              const multiple = (height - initialHeight) / 20\n\n              // Decrease the border radius by 4px for each 20px height increase\n              const newBorder = initialBorder - 4 * multiple\n              // The lowest border radius will be 8px\n              inputRef.current.style.borderRadius =\n                Math.max(8, newBorder) + 'px'\n            }}\n            onFocus={() => setShowEmptyScreen(true)}\n            onBlur={() => setShowEmptyScreen(false)}\n          />\n          <Button\n            type=\"submit\"\n            size={'icon'}\n            variant={'ghost'}\n            className=\"absolute right-2 top-1/2 transform -translate-y-1/2\"\n            disabled={input.length === 0}\n          >\n            <ArrowRight size={20} />\n          </Button>\n        </div>\n        <EmptyScreen\n          submitMessage={message => {\n            setInput(message)\n          }}\n          className={cn(showEmptyScreen ? 'visible' : 'invisible')}\n        />\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 791, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 796, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/separator.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = 'horizontal', decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'shrink-0 bg-border',\n        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAOA,MAAM,0BAAY,8JAAM,UAAU,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,yKAAmB,IAAI;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,yKAAmB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 826, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/collapsible-message.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport {\n  Collapsible,\n  CollapsibleTrigger,\n  CollapsibleContent\n} from '@radix-ui/react-collapsible'\nimport { Button } from './ui/button'\nimport { ChevronDown } from 'lucide-react'\nimport { StreamableValue, useStreamableValue } from 'ai/rsc'\nimport { cn } from '@/lib/utils'\nimport { Separator } from './ui/separator'\n\ninterface CollapsibleMessageProps {\n  message: {\n    id: string\n    isCollapsed?: StreamableValue<boolean>\n    component: React.ReactNode\n  }\n  isLastMessage?: boolean\n}\n\nexport const CollapsibleMessage: React.FC<CollapsibleMessageProps> = ({\n  message,\n  isLastMessage = false\n}) => {\n  const [data] = useStreamableValue(message.isCollapsed)\n  const isCollapsed = data ?? false\n  const [open, setOpen] = useState(isLastMessage)\n\n  useEffect(() => {\n    setOpen(isLastMessage)\n  }, [isCollapsed, isLastMessage])\n\n  // if not collapsed, return the component\n  if (!isCollapsed) {\n    return message.component\n  }\n\n  return (\n    <Collapsible\n      open={open}\n      onOpenChange={value => {\n        setOpen(value)\n      }}\n    >\n      <CollapsibleTrigger asChild>\n        <div\n          className={cn(\n            'w-full flex justify-end',\n            !isCollapsed ? 'hidden' : ''\n          )}\n        >\n          <Button\n            variant=\"ghost\"\n            size={'icon'}\n            className={cn('-mt-3 rounded-full')}\n          >\n            <ChevronDown\n              size={14}\n              className={cn(\n                open ? 'rotate-180' : 'rotate-0',\n                'h-4 w-4 transition-all'\n              )}\n            />\n            <span className=\"sr-only\">collapse</span>\n          </Button>\n        </div>\n      </CollapsibleTrigger>\n      <CollapsibleContent>{message.component}</CollapsibleContent>\n      {!open && <Separator className=\"my-2 bg-muted\" />}\n    </Collapsible>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;AAuBO,MAAM,qBAAwD,CAAC,EACpE,OAAO,EACP,gBAAgB,KAAK,EACtB;;IACC,MAAM,CAAC,KAAK,GAAG,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE,QAAQ,WAAW;IACrD,MAAM,cAAc,QAAQ;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,QAAQ;IACV,GAAG;QAAC;QAAa;KAAc;IAE/B,yCAAyC;IACzC,IAAI,CAAC,aAAa;QAChB,OAAO,QAAQ,SAAS;IAC1B;IAEA,qBACE,6LAAC,0KAAA,CAAA,cAAW;QACV,MAAM;QACN,cAAc,CAAA;YACZ,QAAQ;QACV;;0BAEA,6LAAC,0KAAA,CAAA,qBAAkB;gBAAC,OAAO;0BACzB,cAAA,6LAAC;oBACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,2BACA,CAAC,cAAc,WAAW;8BAG5B,cAAA,6LAAC,8HAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,MAAM;wBACN,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE;;0CAEd,6LAAC,uNAAA,CAAA,cAAW;gCACV,MAAM;gCACN,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,OAAO,eAAe,YACtB;;;;;;0CAGJ,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;0BAIhC,6LAAC,0KAAA,CAAA,qBAAkB;0BAAE,QAAQ,SAAS;;;;;;YACrC,CAAC,sBAAQ,6LAAC,iIAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;;;;;;;AAGrC;GAnDa;;QAII,sJAAA,CAAA,qBAAkB;;;KAJtB"}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 949, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat-messages.tsx"],"sourcesContent":["'use client'\n\nimport { StreamableValue } from 'ai/rsc'\nimport type { UIState } from '@/app/actions'\nimport { CollapsibleMessage } from './collapsible-message'\n\ninterface ChatMessagesProps {\n  messages: UIState\n}\n\ntype GroupedMessage = {\n  id: string\n  components: React.ReactNode[]\n  isCollapsed?: StreamableValue<boolean> | undefined\n}\n\nexport function ChatMessages({ messages }: ChatMessagesProps) {\n  if (!messages.length) {\n    return null\n  }\n\n  // Group messages based on ID, and if there are multiple messages with the same ID, combine them into one message\n  const groupedMessages = messages.reduce(\n    (acc: { [key: string]: GroupedMessage }, message) => {\n      if (!acc[message.id]) {\n        acc[message.id] = {\n          id: message.id,\n          components: [],\n          isCollapsed: message.isCollapsed\n        }\n      }\n      acc[message.id].components.push(message.component)\n      return acc\n    },\n    {}\n  )\n\n  // Convert grouped messages into an array with explicit type\n  const groupedMessagesArray = Object.values(groupedMessages).map(group => ({\n    ...group,\n    components: group.components as React.ReactNode[]\n  })) as {\n    id: string\n    components: React.ReactNode[]\n    isCollapsed?: StreamableValue<boolean>\n  }[]\n\n  return (\n    <>\n      {groupedMessagesArray.map((groupedMessage: GroupedMessage) => (\n        <CollapsibleMessage\n          key={`${groupedMessage.id}`}\n          message={{\n            id: groupedMessage.id,\n            component: groupedMessage.components.map((component, i) => (\n              <div key={`${groupedMessage.id}-${i}`}>{component}</div>\n            )),\n            isCollapsed: groupedMessage.isCollapsed\n          }}\n          isLastMessage={groupedMessage.id === messages[messages.length - 1].id}\n        />\n      ))}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;;;AAgBO,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,OAAO;IACT;IAEA,iHAAiH;IACjH,MAAM,kBAAkB,SAAS,MAAM,CACrC,CAAC,KAAwC;QACvC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE;YACpB,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG;gBAChB,IAAI,QAAQ,EAAE;gBACd,YAAY,EAAE;gBACd,aAAa,QAAQ,WAAW;YAClC;QACF;QACA,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,SAAS;QACjD,OAAO;IACT,GACA,CAAC;IAGH,4DAA4D;IAC5D,MAAM,uBAAuB,OAAO,MAAM,CAAC,iBAAiB,GAAG,CAAC,CAAA,QAAS,CAAC;YACxE,GAAG,KAAK;YACR,YAAY,MAAM,UAAU;QAC9B,CAAC;IAMD,qBACE;kBACG,qBAAqB,GAAG,CAAC,CAAC,+BACzB,6LAAC,wIAAA,CAAA,qBAAkB;gBAEjB,SAAS;oBACP,IAAI,eAAe,EAAE;oBACrB,WAAW,eAAe,UAAU,CAAC,GAAG,CAAC,CAAC,WAAW,kBACnD,6LAAC;sCAAuC;2BAA9B,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;;;;;oBAEvC,aAAa,eAAe,WAAW;gBACzC;gBACA,eAAe,eAAe,EAAE,KAAK,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE;eARhE,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC;;;;;;AAarC;KAhDgB"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1008, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/chat.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { usePathname } from 'next/navigation'\nimport { ChatPanel } from './chat-panel'\nimport { ChatMessages } from './chat-messages'\nimport { useUIState } from 'ai/rsc'\n\ntype ChatProps = {\n  id?: string\n  query?: string\n}\n\nexport function Chat({ id, query }: ChatProps) {\n  const path = usePathname()\n  const [messages] = useUIState()\n\n  useEffect(() => {\n    if (!path.includes('search') && messages.length === 1) {\n      window.history.replaceState({}, '', `/search/${id}`)\n    }\n  }, [id, path, messages, query])\n\n  return (\n    <div className=\"px-8 sm:px-12 pt-12 md:pt-14 pb-14 md:pb-24 max-w-3xl mx-auto flex flex-col space-y-3 md:space-y-4\">\n      <ChatMessages messages={messages} />\n      <ChatPanel messages={messages} query={query} />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAaO,SAAS,KAAK,EAAE,EAAE,EAAE,KAAK,EAAa;;IAC3C,MAAM,OAAO,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IACvB,MAAM,CAAC,SAAS,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IAE5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,KAAK,QAAQ,CAAC,aAAa,SAAS,MAAM,KAAK,GAAG;YACrD,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC;QACrD;IACF,GAAG;QAAC;QAAI;QAAM;QAAU;KAAM;IAE9B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,kIAAA,CAAA,eAAY;gBAAC,UAAU;;;;;;0BACxB,6LAAC,+HAAA,CAAA,YAAS;gBAAC,UAAU;gBAAU,OAAO;;;;;;;;;;;;AAG5C;GAhBgB;;QACD,qIAAA,CAAA,cAAW;QACL,sJAAA,CAAA,aAAU;;;KAFf"}},
    {"offset": {"line": 1074, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1079, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/section.tsx"],"sourcesContent":["'use client'\n\nimport { cn } from '@/lib/utils'\nimport {\n  BookCheck,\n  Film,\n  Image,\n  MessageCircleMore,\n  Newspaper,\n  Repeat2,\n  Search\n} from 'lucide-react'\nimport React from 'react'\nimport { Separator } from './ui/separator'\n\ntype SectionProps = {\n  children: React.ReactNode\n  className?: string\n  size?: 'sm' | 'md' | 'lg'\n  title?: string\n  separator?: boolean\n}\n\nexport const Section: React.FC<SectionProps> = ({\n  children,\n  className,\n  size = 'md',\n  title,\n  separator = false\n}) => {\n  const iconSize = 16\n  const iconClassName = 'mr-1.5 text-muted-foreground'\n  let icon: React.ReactNode\n  switch (title) {\n    case 'Images':\n      // eslint-disable-next-line jsx-a11y/alt-text\n      icon = <Image size={iconSize} className={iconClassName} />\n      break\n    case 'Videos':\n      icon = <Film size={iconSize} className={iconClassName} />\n      break\n    case 'Sources':\n      icon = <Newspaper size={iconSize} className={iconClassName} />\n      break\n    case 'Answer':\n      icon = <BookCheck size={iconSize} className={iconClassName} />\n      break\n    case 'Related':\n      icon = <Repeat2 size={iconSize} className={iconClassName} />\n      break\n    case 'Follow-up':\n      icon = <MessageCircleMore size={iconSize} className={iconClassName} />\n      break\n    default:\n      icon = <Search size={iconSize} className={iconClassName} />\n  }\n\n  return (\n    <>\n      {separator && <Separator className=\"my-2 bg-primary/10\" />}\n      <section\n        className={cn(\n          ` ${size === 'sm' ? 'py-1' : size === 'lg' ? 'py-4' : 'py-2'}`,\n          className\n        )}\n      >\n        {title && (\n          <h2 className=\"flex items-center leading-none py-2\">\n            {icon}\n            {title}\n          </h2>\n        )}\n        {children}\n      </section>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;AAuBO,MAAM,UAAkC,CAAC,EAC9C,QAAQ,EACR,SAAS,EACT,OAAO,IAAI,EACX,KAAK,EACL,YAAY,KAAK,EAClB;IACC,MAAM,WAAW;IACjB,MAAM,gBAAgB;IACtB,IAAI;IACJ,OAAQ;QACN,KAAK;YACH,6CAA6C;YAC7C,qBAAO,6LAAC,uMAAA,CAAA,QAAK;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACzC;QACF,KAAK;YACH,qBAAO,6LAAC,qMAAA,CAAA,OAAI;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACxC;QACF,KAAK;YACH,qBAAO,6LAAC,+MAAA,CAAA,YAAS;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC7C;QACF,KAAK;YACH,qBAAO,6LAAC,mNAAA,CAAA,YAAS;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC7C;QACF,KAAK;YACH,qBAAO,6LAAC,+MAAA,CAAA,UAAO;gBAAC,MAAM;gBAAU,WAAW;;;;;;YAC3C;QACF,KAAK;YACH,qBAAO,6LAAC,uOAAA,CAAA,oBAAiB;gBAAC,MAAM;gBAAU,WAAW;;;;;;YACrD;QACF;YACE,qBAAO,6LAAC,yMAAA,CAAA,SAAM;gBAAC,MAAM;gBAAU,WAAW;;;;;;IAC9C;IAEA,qBACE;;YACG,2BAAa,6LAAC,iIAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;0BACnC,6LAAC;gBACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,CAAC,CAAC,EAAE,SAAS,OAAO,SAAS,SAAS,OAAO,SAAS,OAAO,CAAC,EAC9D;;oBAGD,uBACC,6LAAC;wBAAG,WAAU;;4BACX;4BACA;;;;;;;oBAGJ;;;;;;;;;AAIT;KArDa"}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1215, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = 'Input'\n\nexport { Input }\n"],"names":[],"mappings":";;;;;;;;;;AAOA,MAAM,sBAAQ,8JAAM,UAAU,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1248, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/followup-panel.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Button } from './ui/button'\nimport { Input } from './ui/input'\nimport { useActions, useUIState } from 'ai/rsc'\nimport type { AI } from '@/app/actions'\nimport { UserMessage } from './user-message'\nimport { ArrowRight } from 'lucide-react'\nimport { useAppState } from '@/lib/utils/app-state'\n\nexport function FollowupPanel() {\n  const [input, setInput] = useState('')\n  const { submit } = useActions()\n  const [, setMessages] = useUIState<typeof AI>()\n  const { isGenerating, setIsGenerating } = useAppState()\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n\n    if (isGenerating) return\n\n    setIsGenerating(true)\n    setInput('')\n\n    const formData = new FormData(event.currentTarget as HTMLFormElement)\n\n    const userMessage = {\n      id: Date.now(),\n      isGenerating: false,\n      component: <UserMessage message={input} />\n    }\n\n    const responseMessage = await submit(formData)\n    setMessages(currentMessages => [\n      ...currentMessages,\n      userMessage,\n      responseMessage\n    ])\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className=\"relative flex items-center space-x-1\"\n    >\n      <Input\n        type=\"text\"\n        name=\"input\"\n        placeholder=\"Ask a follow-up question...\"\n        value={input}\n        className=\"pr-14 h-12\"\n        onChange={e => setInput(e.target.value)}\n      />\n      <Button\n        type=\"submit\"\n        size={'icon'}\n        disabled={input.length === 0 || isGenerating}\n        variant={'ghost'}\n        className=\"absolute right-1\"\n      >\n        <ArrowRight size={20} />\n      </Button>\n    </form>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;AAWO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IAC5B,MAAM,GAAG,YAAY,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IACjC,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,cAAW,AAAD;IAEpD,MAAM,eAAe,OAAO;QAC1B,MAAM,cAAc;QAEpB,IAAI,cAAc;QAElB,gBAAgB;QAChB,SAAS;QAET,MAAM,WAAW,IAAI,SAAS,MAAM,aAAa;QAEjD,MAAM,cAAc;YAClB,IAAI,KAAK,GAAG;YACZ,cAAc;YACd,yBAAW,6LAAC,iIAAA,CAAA,cAAW;gBAAC,SAAS;;;;;;QACnC;QAEA,MAAM,kBAAkB,MAAM,OAAO;QACrC,YAAY,CAAA,kBAAmB;mBAC1B;gBACH;gBACA;aACD;IACH;IAEA,qBACE,6LAAC;QACC,UAAU;QACV,WAAU;;0BAEV,6LAAC,6HAAA,CAAA,QAAK;gBACJ,MAAK;gBACL,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,WAAU;gBACV,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0BAExC,6LAAC,8HAAA,CAAA,SAAM;gBACL,MAAK;gBACL,MAAM;gBACN,UAAU,MAAM,MAAM,KAAK,KAAK;gBAChC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,qNAAA,CAAA,aAAU;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAI1B;GAtDgB;;QAEK,sJAAA,CAAA,aAAU;QACL,sJAAA,CAAA,aAAU;QACQ,gIAAA,CAAA,cAAW;;;KAJvC"}},
    {"offset": {"line": 1351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1356, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { Check } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn('flex items-center justify-center text-current')}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAQA,MAAM,yBAAW,8JAAM,UAAU,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wKAAkB,IAAI;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wKAAkB,SAAS;YAC1B,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,wKAAkB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 1400, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1405, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = 'Card'\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n))\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n))\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n))\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAIA,MAAM,qBAAO,8JAAM,UAAU,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,8JAAM,UAAU,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,8JAAM,UAAU,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,8JAAM,UAAU,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,8JAAM,UAAU,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 1500, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1505, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/copilot.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport { PartialInquiry } from '@/lib/schema/inquiry'\nimport { Input } from './ui/input'\nimport { Checkbox } from './ui/checkbox'\nimport { Button } from './ui/button'\nimport { Card } from './ui/card'\nimport { ArrowRight, Check, FastForward, Sparkles } from 'lucide-react'\nimport {\n  StreamableValue,\n  useActions,\n  useStreamableValue,\n  useUIState\n} from 'ai/rsc'\nimport type { AI } from '@/app/actions'\nimport { useAppState } from '@/lib/utils/app-state'\n\nexport type CopilotProps = {\n  inquiry?: StreamableValue<PartialInquiry>\n}\n\nexport const Copilot: React.FC<CopilotProps> = ({ inquiry }: CopilotProps) => {\n  const [completed, setCompleted] = useState(false)\n  const [query, setQuery] = useState('')\n  const [skipped, setSkipped] = useState(false)\n  const [data, error, pending] = useStreamableValue<PartialInquiry>(inquiry)\n  const [checkedOptions, setCheckedOptions] = useState<{\n    [key: string]: boolean\n  }>({})\n  const [isButtonDisabled, setIsButtonDisabled] = useState(true)\n  const [, setMessages] = useUIState<typeof AI>()\n  const { submit } = useActions()\n  const { isGenerating, setIsGenerating } = useAppState()\n  const [object, setObject] = useState<PartialInquiry>()\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value)\n    checkIfButtonShouldBeEnabled()\n  }\n\n  const handleOptionChange = (selectedOption: string) => {\n    const updatedCheckedOptions = {\n      ...checkedOptions,\n      [selectedOption]: !checkedOptions[selectedOption]\n    }\n    setCheckedOptions(updatedCheckedOptions)\n    checkIfButtonShouldBeEnabled(updatedCheckedOptions)\n  }\n\n  const checkIfButtonShouldBeEnabled = (currentOptions = checkedOptions) => {\n    const anyCheckboxChecked = Object.values(currentOptions).some(\n      checked => checked\n    )\n    setIsButtonDisabled(!(anyCheckboxChecked || query))\n  }\n\n  const updatedQuery = () => {\n    const selectedOptions = Object.entries(checkedOptions)\n      .filter(([, checked]) => checked)\n      .map(([option]) => option)\n    return [...selectedOptions, query].filter(Boolean).join(', ')\n  }\n\n  useEffect(() => {\n    checkIfButtonShouldBeEnabled()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query])\n\n  useEffect(() => {\n    if (!data) return\n    setObject(data)\n  }, [data])\n\n  const onFormSubmit = async (\n    e: React.FormEvent<HTMLFormElement>,\n    skip?: boolean\n  ) => {\n    e.preventDefault()\n\n    if (isGenerating) return\n\n    setIsGenerating(true)\n    setCompleted(true)\n    setSkipped(skip || false)\n\n    const formData = skip\n      ? undefined\n      : new FormData(e.target as HTMLFormElement)\n\n    const response = await submit(formData, skip)\n    setMessages(currentMessages => [...currentMessages, response])\n  }\n\n  const handleSkip = (e: React.MouseEvent<HTMLButtonElement>) => {\n    onFormSubmit(e as unknown as React.FormEvent<HTMLFormElement>, true)\n  }\n\n  if (error) {\n    return (\n      <Card className=\"p-4 w-full flex justify-between items-center\">\n        <div className=\"flex items-center space-x-2\">\n          <Sparkles className=\"w-4 h-4\" />\n          <h5 className=\"text-muted-foreground text-xs truncate\">\n            {`error: ${error}`}\n          </h5>\n        </div>\n      </Card>\n    )\n  }\n\n  if (skipped) {\n    return null\n  }\n\n  if (completed) {\n    return (\n      <Card className=\"p-3 md:p-4 w-full flex justify-between items-center\">\n        <div className=\"flex items-center space-x-2 flex-1 min-w-0\">\n          <h5 className=\"text-muted-foreground text-xs truncate\">\n            {updatedQuery()}\n          </h5>\n        </div>\n        <Check size={16} className=\"text-green-500 w-4 h-4\" />\n      </Card>\n    )\n  } else {\n    return (\n      <Card className=\"p-4 rounded-lg w-full mx-auto\">\n        <div className=\"mb-4\">\n          <p className=\"text-lg text-foreground text-semibold ml-2\">\n            {object?.question}\n          </p>\n        </div>\n        <form onSubmit={onFormSubmit}>\n          <div className=\"flex flex-wrap justify-start mb-4\">\n            {object?.options?.map((option, index) => (\n              <div\n                key={`option-${index}`}\n                className=\"flex items-center space-x-1.5 mb-2\"\n              >\n                <Checkbox\n                  id={option?.value}\n                  name={option?.value}\n                  onCheckedChange={() =>\n                    handleOptionChange(option?.label as string)\n                  }\n                />\n                <label\n                  className=\"text-sm whitespace-nowrap pr-4\"\n                  htmlFor={option?.value}\n                >\n                  {option?.label}\n                </label>\n              </div>\n            ))}\n          </div>\n          {object?.allowsInput && (\n            <div className=\"mb-6 flex flex-col space-y-2 text-sm\">\n              <label className=\"text-muted-foreground\" htmlFor=\"query\">\n                {object?.inputLabel}\n              </label>\n              <Input\n                type=\"text\"\n                name=\"additional_query\"\n                className=\"w-full\"\n                id=\"query\"\n                placeholder={object?.inputPlaceholder}\n                value={query}\n                onChange={handleInputChange}\n              />\n            </div>\n          )}\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={handleSkip}\n              disabled={pending || isGenerating}\n            >\n              <FastForward size={16} className=\"mr-1\" />\n              Skip\n            </Button>\n            <Button type=\"submit\" disabled={isButtonDisabled || pending}>\n              <ArrowRight size={16} className=\"mr-1\" />\n              Send\n            </Button>\n          </div>\n        </form>\n      </Card>\n    )\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1830, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn('animate-pulse rounded-md bg-muted', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf;KAVS"}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1857, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-related.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport { Button } from './ui/button'\nimport { ArrowRight } from 'lucide-react'\nimport {\n  StreamableValue,\n  useActions,\n  useStreamableValue,\n  useUIState\n} from 'ai/rsc'\nimport { AI } from '@/app/actions'\nimport { UserMessage } from './user-message'\nimport { PartialRelated } from '@/lib/schema/related'\nimport { Section } from './section'\nimport { Skeleton } from './ui/skeleton'\n\nexport interface SearchRelatedProps {\n  relatedQueries: StreamableValue<PartialRelated>\n}\n\nexport const SearchRelated: React.FC<SearchRelatedProps> = ({\n  relatedQueries\n}) => {\n  const { submit } = useActions()\n  const [, setMessages] = useUIState<typeof AI>()\n  const [data, error, pending] = useStreamableValue(relatedQueries)\n  const [related, setRelated] = useState<PartialRelated>()\n\n  useEffect(() => {\n    if (!data) return\n    setRelated(data)\n  }, [data])\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    const formData = new FormData(event.currentTarget as HTMLFormElement)\n\n    // // Get the submitter of the form\n    const submitter = (event.nativeEvent as SubmitEvent)\n      .submitter as HTMLInputElement\n    let query = ''\n    if (submitter) {\n      formData.append(submitter.name, submitter.value)\n      query = submitter.value\n    }\n\n    const userMessage = {\n      id: Date.now(),\n      component: <UserMessage message={query} />\n    }\n\n    const responseMessage = await submit(formData)\n    setMessages(currentMessages => [\n      ...currentMessages,\n      userMessage,\n      responseMessage\n    ])\n  }\n\n  return related ? (\n    <Section title=\"Related\" separator={true}>\n      <form onSubmit={handleSubmit} className=\"flex flex-wrap\">\n        {Array.isArray(related.items) ? (\n          related.items\n            ?.filter(item => item?.query !== '')\n            .map((item, index) => (\n              <div className=\"flex items-start w-full\" key={index}>\n                <ArrowRight className=\"h-4 w-4 mr-2 mt-1 flex-shrink-0 text-accent-foreground/50\" />\n                <Button\n                  variant=\"link\"\n                  className=\"flex-1 justify-start px-0 py-1 h-fit font-semibold text-accent-foreground/50 whitespace-normal text-left\"\n                  type=\"submit\"\n                  name={'related_query'}\n                  value={item?.query}\n                >\n                  {item?.query}\n                </Button>\n              </div>\n            ))\n        ) : (\n          <div>Not an array</div>\n        )}\n      </form>\n    </Section>\n  ) : error ? null : (\n    <Section title=\"Related\" separator={true}>\n      <Skeleton className=\"w-full h-6\" />\n    </Section>\n  )\n}\n\nexport default SearchRelated\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;;;;AAqBO,MAAM,gBAA8C,CAAC,EAC1D,cAAc,EACf;;IACC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IAC5B,MAAM,GAAG,YAAY,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IACjC,MAAM,CAAC,MAAM,OAAO,QAAQ,GAAG,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAErC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;QACX,WAAW;IACb,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,OAAO;QAC1B,MAAM,cAAc;QACpB,MAAM,WAAW,IAAI,SAAS,MAAM,aAAa;QAEjD,mCAAmC;QACnC,MAAM,YAAY,AAAC,MAAM,WAAW,CACjC,SAAS;QACZ,IAAI,QAAQ;QACZ,IAAI,WAAW;YACb,SAAS,MAAM,CAAC,UAAU,IAAI,EAAE,UAAU,KAAK;YAC/C,QAAQ,UAAU,KAAK;QACzB;QAEA,MAAM,cAAc;YAClB,IAAI,KAAK,GAAG;YACZ,yBAAW,6LAAC,iIAAA,CAAA,cAAW;gBAAC,SAAS;;;;;;QACnC;QAEA,MAAM,kBAAkB,MAAM,OAAO;QACrC,YAAY,CAAA,kBAAmB;mBAC1B;gBACH;gBACA;aACD;IACH;IAEA,OAAO,wBACL,6LAAC,yHAAA,CAAA,UAAO;QAAC,OAAM;QAAU,WAAW;kBAClC,cAAA,6LAAC;YAAK,UAAU;YAAc,WAAU;sBACrC,MAAM,OAAO,CAAC,QAAQ,KAAK,IAC1B,QAAQ,KAAK,EACT,OAAO,CAAA,OAAQ,MAAM,UAAU,IAChC,IAAI,CAAC,MAAM,sBACV,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,qNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;sCACtB,6LAAC,8HAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,MAAK;4BACL,MAAM;4BACN,OAAO,MAAM;sCAEZ,MAAM;;;;;;;mBATmC;;;;0CAclD,6LAAC;0BAAI;;;;;;;;;;;;;;;eAIT,QAAQ,qBACV,6LAAC,yHAAA,CAAA,UAAO;QAAC,OAAM;QAAU,WAAW;kBAClC,cAAA,6LAAC,gIAAA,CAAA,WAAQ;YAAC,WAAU;;;;;;;;;;;AAG1B;GArEa;;QAGQ,sJAAA,CAAA,aAAU;QACL,sJAAA,CAAA,aAAU;QACH,sJAAA,CAAA,qBAAkB;;;KALtC;uCAuEE"}},
    {"offset": {"line": 1995, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2000, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-skeleton.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { Skeleton } from './ui/skeleton'\n\nexport const SearchSkeleton = () => {\n  return (\n    <div>\n      <Skeleton className=\"h-6 w-48\" />\n      <div className=\"flex flex-wrap gap-2\">\n        {Array.from({ length: 4 }).map((_, index) => (\n          <div\n            className=\"w-[calc(50%-0.5rem)] md:w-[calc(25%-0.5rem)] p-2\"\n            key={index}\n          >\n            <div className=\"flex-1\">\n              <div className=\"pt-2\">\n                <Skeleton className=\"h-6 mb-2\" />\n                <div className=\"flex items-center space-x-2\">\n                  <Skeleton className=\"h-4 w-4\" />\n                  <Skeleton className=\"w-24 h-4\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;;;AAKO,MAAM,iBAAiB;IAC5B,qBACE,6LAAC;;0BACC,6LAAC,gIAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;0BACpB,6LAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBACjC,6LAAC;wBACC,WAAU;kCAGV,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,gIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,gIAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;0DACpB,6LAAC,gIAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;uBAPrB;;;;;;;;;;;;;;;;AAgBjB;KAxBa"}},
    {"offset": {"line": 2091, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2096, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn('aspect-square h-full w-full', className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      'flex h-full w-full items-center justify-center rounded-full bg-muted',\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;AAOA,MAAM,uBAAS,8JAAM,UAAU,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,IAAI;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,sKAAgB,IAAI,CAAC,WAAW;AAErD,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,sKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,+BAAiB,8JAAM,UAAU,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAgB,QAAQ;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAgB,QAAQ,CAAC,WAAW"}},
    {"offset": {"line": 2152, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2157, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-results.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { AvatarImage, Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { CardContent, Card } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport Link from 'next/link'\nimport { SearchResultItem } from '@/lib/types'\n\nexport interface SearchResultsProps {\n  results: SearchResultItem[]\n}\n\nexport function SearchResults({ results }: SearchResultsProps) {\n  // State to manage whether to display the results\n  const [showAllResults, setShowAllResults] = useState(false)\n\n  const handleViewMore = () => {\n    setShowAllResults(true)\n  }\n\n  const displayedResults = showAllResults ? results : results.slice(0, 3)\n  const additionalResultsCount = results.length > 3 ? results.length - 3 : 0\n  const displayUrlName = (url: string) => {\n    const hostname = new URL(url).hostname\n    const parts = hostname.split('.')\n    return parts.length > 2 ? parts.slice(1, -1).join('.') : parts[0]\n  }\n\n  return (\n    <div className=\"flex flex-wrap\">\n      {displayedResults.map((result, index) => (\n        <div className=\"w-1/2 md:w-1/4 p-1\" key={index}>\n          <Link href={result.url} passHref target=\"_blank\">\n            <Card className=\"flex-1\">\n              <CardContent className=\"p-2\">\n                <p className=\"text-xs line-clamp-2\">\n                  {result.title || result.content}\n                </p>\n                <div className=\"mt-2 flex items-center space-x-1\">\n                  <Avatar className=\"h-4 w-4\">\n                    <AvatarImage\n                      src={`https://www.google.com/s2/favicons?domain=${\n                        new URL(result.url).hostname\n                      }`}\n                      alt={new URL(result.url).hostname}\n                    />\n                    <AvatarFallback>\n                      {new URL(result.url).hostname[0]}\n                    </AvatarFallback>\n                  </Avatar>\n                  <div className=\"text-xs opacity-60 truncate\">\n                    {`${displayUrlName(result.url)} - ${index + 1}`}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </Link>\n        </div>\n      ))}\n      {!showAllResults && additionalResultsCount > 0 && (\n        <div className=\"w-1/2 md:w-1/4 p-1\">\n          <Card className=\"flex-1 flex h-full items-center justify-center\">\n            <CardContent className=\"p-2\">\n              <Button\n                variant={'link'}\n                className=\"text-muted-foreground\"\n                onClick={handleViewMore}\n              >\n                View {additionalResultsCount} more\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAaO,SAAS,cAAc,EAAE,OAAO,EAAsB;;IAC3D,iDAAiD;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,iBAAiB;QACrB,kBAAkB;IACpB;IAEA,MAAM,mBAAmB,iBAAiB,UAAU,QAAQ,KAAK,CAAC,GAAG;IACrE,MAAM,yBAAyB,QAAQ,MAAM,GAAG,IAAI,QAAQ,MAAM,GAAG,IAAI;IACzE,MAAM,iBAAiB,CAAC;QACtB,MAAM,WAAW,IAAI,IAAI,KAAK,QAAQ;QACtC,MAAM,QAAQ,SAAS,KAAK,CAAC;QAC7B,OAAO,MAAM,MAAM,GAAG,IAAI,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;IACnE;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,iBAAiB,GAAG,CAAC,CAAC,QAAQ,sBAC7B,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,+HAAA,CAAA,UAAI;wBAAC,MAAM,OAAO,GAAG;wBAAE,QAAQ;wBAAC,QAAO;kCACtC,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;sCACd,cAAA,6LAAC,4HAAA,CAAA,cAAW;gCAAC,WAAU;;kDACrB,6LAAC;wCAAE,WAAU;kDACV,OAAO,KAAK,IAAI,OAAO,OAAO;;;;;;kDAEjC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,8HAAA,CAAA,SAAM;gDAAC,WAAU;;kEAChB,6LAAC,8HAAA,CAAA,cAAW;wDACV,KAAK,CAAC,0CAA0C,EAC9C,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ,CAC7B,CAAC;wDACF,KAAK,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ;;;;;;kEAEnC,6LAAC,8HAAA,CAAA,iBAAc;kEACZ,IAAI,IAAI,OAAO,GAAG,EAAE,QAAQ,CAAC,EAAE;;;;;;;;;;;;0DAGpC,6LAAC;gDAAI,WAAU;0DACZ,CAAC,EAAE,eAAe,OAAO,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBApBlB;;;;;YA4B1C,CAAC,kBAAkB,yBAAyB,mBAC3C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4HAAA,CAAA,OAAI;oBAAC,WAAU;8BACd,cAAA,6LAAC,4HAAA,CAAA,cAAW;wBAAC,WAAU;kCACrB,cAAA,6LAAC,8HAAA,CAAA,SAAM;4BACL,SAAS;4BACT,WAAU;4BACV,SAAS;;gCACV;gCACO;gCAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7C;GAhEgB;KAAA"}},
    {"offset": {"line": 2319, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2324, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/carousel.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType\n} from 'embla-carousel-react'\nimport { ArrowLeft, ArrowRight } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport { Button } from '@/components/ui/button'\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: 'horizontal' | 'vertical'\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error('useCarousel must be used within a <Carousel />')\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = 'horizontal',\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === 'horizontal' ? 'x' : 'y'\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === 'ArrowLeft') {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === 'ArrowRight') {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on('reInit', onSelect)\n      api.on('select', onSelect)\n\n      return () => {\n        api?.off('select', onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn('relative', className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = 'Carousel'\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          'flex',\n          orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = 'CarouselContent'\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        'min-w-0 shrink-0 grow-0 basis-full',\n        orientation === 'horizontal' ? 'pl-4' : 'pt-4',\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = 'CarouselItem'\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute  h-8 w-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-left-12 top-1/2 -translate-y-1/2'\n          : '-top-12 left-1/2 -translate-x-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = 'CarouselPrevious'\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute h-8 w-8 rounded-full',\n        orientation === 'horizontal'\n          ? '-right-12 top-1/2 -translate-y-1/2'\n          : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = 'CarouselNext'\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2613, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2618, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-results-image.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\n'use client'\n\nimport { Card, CardContent } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport {\n  Carousel,\n  type CarouselApi,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious\n} from '@/components/ui/carousel'\nimport { useEffect, useState } from 'react'\nimport { PlusCircle } from 'lucide-react'\n\ninterface SearchResultsImageSectionProps {\n  images: string[]\n  query?: string\n}\n\nexport const SearchResultsImageSection: React.FC<\n  SearchResultsImageSectionProps\n> = ({ images, query }) => {\n  const [api, setApi] = useState<CarouselApi>()\n  const [current, setCurrent] = useState(0)\n  const [count, setCount] = useState(0)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n\n  // Update the current and count state when the carousel api is available\n  useEffect(() => {\n    if (!api) {\n      return\n    }\n\n    setCount(api.scrollSnapList().length)\n    setCurrent(api.selectedScrollSnap() + 1)\n\n    api.on('select', () => {\n      setCurrent(api.selectedScrollSnap() + 1)\n    })\n  }, [api])\n\n  // Scroll to the selected index\n  useEffect(() => {\n    if (api) {\n      api.scrollTo(selectedIndex, true)\n    }\n  }, [api, selectedIndex])\n\n  if (!images || images.length === 0) {\n    return <div className=\"text-muted-foreground\">No images found</div>\n  }\n\n  return (\n    <div className=\"flex flex-wrap gap-2\">\n      {images.slice(0, 4).map((image, index) => (\n        <Dialog key={index}>\n          <DialogTrigger asChild>\n            <div\n              className=\"w-[calc(50%-0.5rem)] md:w-[calc(25%-0.5rem)] aspect-video cursor-pointer relative\"\n              onClick={() => setSelectedIndex(index)}\n            >\n              <Card className=\"flex-1 h-full\">\n                <CardContent className=\"p-2 h-full w-full\">\n                  {image ? (\n                    <img\n                      src={image}\n                      alt={`Image ${index + 1}`}\n                      className=\"h-full w-full object-cover\"\n                      onError={e =>\n                        (e.currentTarget.src = '/images/placeholder-image.png')\n                      }\n                    />\n                  ) : (\n                    <div className=\"w-full h-full bg-muted animate-pulse\" />\n                  )}\n                </CardContent>\n              </Card>\n              {index === 3 && images.length > 4 && (\n                <div className=\"absolute inset-0 bg-black/30 rounded-md flex items-center justify-center text-white/80 text-sm\">\n                  <PlusCircle size={24} />\n                </div>\n              )}\n            </div>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-3xl max-h-[80vh] overflow-auto\">\n            <DialogHeader>\n              <DialogTitle>Search Images</DialogTitle>\n              <DialogDescription className=\"text-sm\">{query}</DialogDescription>\n            </DialogHeader>\n            <div className=\"py-4\">\n              <Carousel\n                setApi={setApi}\n                className=\"w-full bg-muted max-h-[60vh]\"\n              >\n                <CarouselContent>\n                  {images.map((img, idx) => (\n                    <CarouselItem key={idx}>\n                      <div className=\"p-1 flex items-center justify-center h-full\">\n                        <img\n                          src={img}\n                          alt={`Image ${idx + 1}`}\n                          className=\"h-auto w-full object-contain max-h-[60vh]\"\n                          onError={e =>\n                            (e.currentTarget.src =\n                              '/images/placeholder-image.png')\n                          }\n                        />\n                      </div>\n                    </CarouselItem>\n                  ))}\n                </CarouselContent>\n                <div className=\"absolute inset-8 flex items-center justify-between p-4\">\n                  <CarouselPrevious className=\"w-10 h-10 rounded-full shadow focus:outline-none\">\n                    <span className=\"sr-only\">Previous</span>\n                  </CarouselPrevious>\n                  <CarouselNext className=\"w-10 h-10 rounded-full shadow focus:outline-none\">\n                    <span className=\"sr-only\">Next</span>\n                  </CarouselNext>\n                </div>\n              </Carousel>\n              <div className=\"py-2 text-center text-sm text-muted-foreground\">\n                {current} of {count}\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2886, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2891, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground'\n      }\n    },\n    defaultVariants: {\n      variant: 'default'\n    }\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;;;;;AAKA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 2931, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/tool-badge.tsx"],"sourcesContent":["import React from 'react'\nimport { Search } from 'lucide-react'\nimport { Badge } from './ui/badge'\n\ntype ToolBadgeProps = {\n  tool: string\n  children: React.ReactNode\n  className?: string\n}\n\nexport const ToolBadge: React.FC<ToolBadgeProps> = ({\n  tool,\n  children,\n  className\n}) => {\n  const icon: Record<string, React.ReactNode> = {\n    search: <Search size={14} />\n  }\n\n  return (\n    <Badge className={className} variant={'secondary'}>\n      {icon[tool]}\n      <span className=\"ml-1\">{children}</span>\n    </Badge>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;AAUO,MAAM,YAAsC,CAAC,EAClD,IAAI,EACJ,QAAQ,EACR,SAAS,EACV;IACC,MAAM,OAAwC;QAC5C,sBAAQ,6LAAC,yMAAA,CAAA,SAAM;YAAC,MAAM;;;;;;IACxB;IAEA,qBACE,6LAAC,6HAAA,CAAA,QAAK;QAAC,WAAW;QAAW,SAAS;;YACnC,IAAI,CAAC,KAAK;0BACX,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;;;;;;;AAG9B;KAfa"}},
    {"offset": {"line": 2979, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2984, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/search-section.tsx"],"sourcesContent":["'use client'\n\nimport { SearchResults } from './search-results'\nimport { SearchSkeleton } from './search-skeleton'\nimport { SearchResultsImageSection } from './search-results-image'\nimport { Section } from './section'\nimport { ToolBadge } from './tool-badge'\nimport type { SearchResults as TypeSearchResults } from '@/lib/types'\nimport { StreamableValue, useStreamableValue } from 'ai/rsc'\n\nexport type SearchSectionProps = {\n  result?: StreamableValue<string>\n  includeDomains?: string[]\n}\n\nexport function SearchSection({ result, includeDomains }: SearchSectionProps) {\n  const [data, error, pending] = useStreamableValue(result)\n  const searchResults: TypeSearchResults = data ? JSON.parse(data) : undefined\n  const includeDomainsString = includeDomains\n    ? ` [${includeDomains.join(', ')}]`\n    : ''\n  return (\n    <div>\n      {!pending && data ? (\n        <>\n          <Section size=\"sm\" className=\"pt-2 pb-0\">\n            <ToolBadge tool=\"search\">{`${searchResults.query}${includeDomainsString}`}</ToolBadge>\n          </Section>\n          {searchResults.images && searchResults.images.length > 0 && (\n            <Section title=\"Images\">\n              <SearchResultsImageSection\n                images={searchResults.images}\n                query={searchResults.query}\n              />\n            </Section>\n          )}\n          <Section title=\"Sources\">\n            <SearchResults results={searchResults.results} />\n          </Section>\n        </>\n      ) : (\n        <Section className=\"pt-2 pb-0\">\n          <SearchSkeleton />\n        </Section>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;AAeO,SAAS,cAAc,EAAE,MAAM,EAAE,cAAc,EAAsB;;IAC1E,MAAM,CAAC,MAAM,OAAO,QAAQ,GAAG,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE;IAClD,MAAM,gBAAmC,OAAO,KAAK,KAAK,CAAC,QAAQ;IACnE,MAAM,uBAAuB,iBACzB,CAAC,EAAE,EAAE,eAAe,IAAI,CAAC,MAAM,CAAC,CAAC,GACjC;IACJ,qBACE,6LAAC;kBACE,CAAC,WAAW,qBACX;;8BACE,6LAAC,yHAAA,CAAA,UAAO;oBAAC,MAAK;oBAAK,WAAU;8BAC3B,cAAA,6LAAC,+HAAA,CAAA,YAAS;wBAAC,MAAK;kCAAU,CAAC,EAAE,cAAc,KAAK,CAAC,EAAE,qBAAqB,CAAC;;;;;;;;;;;gBAE1E,cAAc,MAAM,IAAI,cAAc,MAAM,CAAC,MAAM,GAAG,mBACrD,6LAAC,yHAAA,CAAA,UAAO;oBAAC,OAAM;8BACb,cAAA,6LAAC,4IAAA,CAAA,4BAAyB;wBACxB,QAAQ,cAAc,MAAM;wBAC5B,OAAO,cAAc,KAAK;;;;;;;;;;;8BAIhC,6LAAC,yHAAA,CAAA,UAAO;oBAAC,OAAM;8BACb,cAAA,6LAAC,mIAAA,CAAA,gBAAa;wBAAC,SAAS,cAAc,OAAO;;;;;;;;;;;;yCAIjD,6LAAC,yHAAA,CAAA,UAAO;YAAC,WAAU;sBACjB,cAAA,6LAAC,oIAAA,CAAA,iBAAc;;;;;;;;;;;;;;;AAKzB;GAhCgB;;QACiB,sJAAA,CAAA,qBAAkB;;;KADnC"}},
    {"offset": {"line": 3084, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3089, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/video-search-results.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\n'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport { AvatarImage, Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { CardContent, Card } from '@/components/ui/card'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger\n} from '@/components/ui/dialog'\nimport {\n  Carousel,\n  type CarouselApi,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious\n} from '@/components/ui/carousel'\nimport { SerperSearchResultItem, SerperSearchResults } from '@/lib/types'\nimport { PlusCircle } from 'lucide-react'\n\nexport interface VideoSearchResultsProps {\n  results: SerperSearchResults\n}\n\nexport function VideoSearchResults({ results }: VideoSearchResultsProps) {\n  const [api, setApi] = useState<CarouselApi>()\n  const [current, setCurrent] = useState(1)\n  const [count, setCount] = useState(0)\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const videoRefs = useRef<(HTMLIFrameElement | null)[]>([])\n\n  // filter out the videos that path is not /watch\n  const videos = results.videos.filter((video: SerperSearchResultItem) => {\n    return new URL(video.link).pathname === '/watch'\n  })\n\n  // Update the current and count state when the carousel api is available\n  useEffect(() => {\n    if (api) {\n      setCount(api.scrollSnapList().length)\n      setCurrent(api.selectedScrollSnap() + 1)\n\n      api.on('select', () => {\n        const newCurrent = api.selectedScrollSnap() + 1\n        if (newCurrent !== current && videoRefs.current[current - 1]) {\n          const prevVideo = videoRefs.current[current - 1]\n          prevVideo?.contentWindow?.postMessage(\n            '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\n            '*'\n          )\n        }\n        setCurrent(newCurrent)\n      })\n    }\n  }, [api, current])\n\n  // Scroll to the selected index\n  useEffect(() => {\n    if (api) {\n      api.scrollTo(selectedIndex, true)\n    }\n  }, [api, selectedIndex])\n\n  if (!results.videos || results.videos.length === 0) {\n    return <div className=\"text-muted-foreground\">No videos found</div>\n  }\n\n  return (\n    <div className=\"flex flex-wrap\">\n      {videos.slice(0, 4).map((result: SerperSearchResultItem, index: any) => (\n        <Dialog key={index}>\n          <DialogTrigger asChild>\n            <div\n              className=\"w-1/2 md:w-1/4 p-1 cursor-pointer relative\"\n              onClick={() => setSelectedIndex(index)}\n            >\n              <Card className=\"flex-1 min-h-40 \">\n                <CardContent className=\"p-2\">\n                  <img\n                    src={result.imageUrl}\n                    alt={result.title}\n                    className=\"w-full aspect-video mb-2\"\n                    onError={e =>\n                      (e.currentTarget.src = '/images/placeholder-image.png')\n                    }\n                  />\n                  <p className=\"text-xs line-clamp-2\">{result.title}</p>\n                  <div className=\"mt-2 flex items-center space-x-2\">\n                    <Avatar className=\"h-4 w-4\">\n                      <AvatarImage\n                        src={`https://www.google.com/s2/favicons?domain=${\n                          new URL(result.link).hostname\n                        }`}\n                        alt={result.channel}\n                      />\n                      <AvatarFallback>\n                        {new URL(result.link).hostname[0]}\n                      </AvatarFallback>\n                    </Avatar>\n                    <div className=\"text-xs opacity-60 truncate\">\n                      {new URL(result.link).hostname}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n              {index === 3 && results.videos.length > 4 && (\n                <div className=\"absolute inset-0 bg-black/30 rounded-md flex items-center justify-center text-white/80 text-sm\">\n                  <PlusCircle size={24} />\n                </div>\n              )}\n            </div>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-3xl max-h-[80vh] overflow-auto\">\n            <DialogHeader>\n              <DialogTitle>Search Videos</DialogTitle>\n              <DialogDescription className=\"text-sm\">\n                {results.searchParameters.q}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"py-4\">\n              <Carousel\n                setApi={setApi}\n                className=\"w-full bg-muted max-h-[60vh]\"\n              >\n                <CarouselContent>\n                  {videos.map((video, idx) => {\n                    const videoId = video.link.split('v=')[1]\n                    return (\n                      <CarouselItem key={idx}>\n                        <div className=\"p-1 flex items-center justify-center h-full\">\n                          <iframe\n                            ref={el => {\n                              videoRefs.current[idx] = el\n                            }}\n                            src={`https://www.youtube.com/embed/${videoId}?enablejsapi=1`}\n                            className=\"w-full aspect-video\"\n                            title={video.title}\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                            allowFullScreen\n                          />\n                        </div>\n                      </CarouselItem>\n                    )\n                  })}\n                </CarouselContent>\n                <div className=\"absolute inset-8 flex items-center justify-between p-4 pointer-events-none\">\n                  <CarouselPrevious className=\"w-10 h-10 rounded-full shadow focus:outline-none pointer-events-auto\">\n                    <span className=\"sr-only\">Previous</span>\n                  </CarouselPrevious>\n                  <CarouselNext className=\"w-10 h-10 rounded-full shadow focus:outline-none pointer-events-auto\">\n                    <span className=\"sr-only\">Next</span>\n                  </CarouselNext>\n                </div>\n              </Carousel>\n              <div className=\"py-2\">\n                <div className=\"text-center text-sm text-muted-foreground\">\n                  {current} of {count}\n                </div>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3428, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3433, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/video-search-section.tsx"],"sourcesContent":["'use client'\n\nimport { SearchSkeleton } from './search-skeleton'\nimport { Section } from './section'\nimport type { SerperSearchResults } from '@/lib/types'\nimport { StreamableValue, useStreamableValue } from 'ai/rsc'\nimport { VideoSearchResults } from './video-search-results'\nimport { ToolBadge } from './tool-badge'\n\nexport type VideoSearchSectionProps = {\n  result?: StreamableValue<string>\n}\n\nexport function VideoSearchSection({ result }: VideoSearchSectionProps) {\n  const [data, error, pending] = useStreamableValue(result)\n  const searchResults: SerperSearchResults = data ? JSON.parse(data) : undefined\n  return (\n    <div>\n      {!pending && data ? (\n        <>\n          <Section size=\"sm\" className=\"pt-2 pb-0\">\n            <ToolBadge tool=\"search\">{`${searchResults.searchParameters.q}`}</ToolBadge>\n          </Section>\n          <Section title=\"Videos\">\n            <VideoSearchResults results={searchResults} />\n          </Section>\n        </>\n      ) : (\n        <Section className=\"pt-2 pb-0\">\n          <SearchSkeleton />\n        </Section>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAaO,SAAS,mBAAmB,EAAE,MAAM,EAA2B;;IACpE,MAAM,CAAC,MAAM,OAAO,QAAQ,GAAG,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE;IAClD,MAAM,gBAAqC,OAAO,KAAK,KAAK,CAAC,QAAQ;IACrE,qBACE,6LAAC;kBACE,CAAC,WAAW,qBACX;;8BACE,6LAAC,yHAAA,CAAA,UAAO;oBAAC,MAAK;oBAAK,WAAU;8BAC3B,cAAA,6LAAC,+HAAA,CAAA,YAAS;wBAAC,MAAK;kCAAU,CAAC,EAAE,cAAc,gBAAgB,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;8BAEjE,6LAAC,yHAAA,CAAA,UAAO;oBAAC,OAAM;8BACb,cAAA,6LAAC,4IAAA,CAAA,qBAAkB;wBAAC,SAAS;;;;;;;;;;;;yCAIjC,6LAAC,yHAAA,CAAA,UAAO;YAAC,WAAU;sBACjB,cAAA,6LAAC,oIAAA,CAAA,iBAAc;;;;;;;;;;;;;;;AAKzB;GArBgB;;QACiB,sJAAA,CAAA,qBAAkB;;;KADnC"}},
    {"offset": {"line": 3515, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3520, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/markdown.tsx"],"sourcesContent":["import { FC, memo } from 'react'\nimport ReactMarkdown, { Options } from 'react-markdown'\n\nexport const MemoizedReactMarkdown: FC<Options> = memo(\n  ReactMarkdown,\n  (prevProps, nextProps) =>\n    prevProps.children === nextProps.children &&\n    prevProps.className === nextProps.className\n)\n"],"names":[],"mappings":";;;;;;;;AAGO,MAAM,sCAAqC,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,EACnD,4MAAA,CAAA,UAAa,EACb,CAAC,WAAW,YACV,UAAU,QAAQ,KAAK,UAAU,QAAQ,IACzC,UAAU,SAAS,KAAK,UAAU,SAAS"}},
    {"offset": {"line": 3532, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3537, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/codeblock.tsx"],"sourcesContent":["// Referenced from Vercel's AI Chatbot and modified to fit the needs of this project\n// https://github.com/vercel/ai-chatbot/blob/c2757f87f986b7f15fdf75c4c89cb2219745c53f/components/ui/codeblock.tsx\n\n'use client'\n\nimport { FC, memo } from 'react'\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter'\nimport { coldarkDark } from 'react-syntax-highlighter/dist/cjs/styles/prism'\n\nimport { useCopyToClipboard } from '@/lib/hooks/use-copy-to-clipboard'\nimport { Button } from '@/components/ui/button'\nimport { generateId } from 'ai'\nimport { Check, Copy, Download } from 'lucide-react'\n\ninterface Props {\n  language: string\n  value: string\n}\n\ninterface languageMap {\n  [key: string]: string | undefined\n}\n\nexport const programmingLanguages: languageMap = {\n  javascript: '.js',\n  python: '.py',\n  java: '.java',\n  c: '.c',\n  cpp: '.cpp',\n  'c++': '.cpp',\n  'c#': '.cs',\n  ruby: '.rb',\n  php: '.php',\n  swift: '.swift',\n  'objective-c': '.m',\n  kotlin: '.kt',\n  typescript: '.ts',\n  go: '.go',\n  perl: '.pl',\n  rust: '.rs',\n  scala: '.scala',\n  haskell: '.hs',\n  lua: '.lua',\n  shell: '.sh',\n  sql: '.sql',\n  html: '.html',\n  css: '.css'\n  // add more file extensions here, make sure the key is same as language prop in CodeBlock.tsx component\n}\n\nconst CodeBlock: FC<Props> = memo(({ language, value }) => {\n  const { isCopied, copyToClipboard } = useCopyToClipboard({ timeout: 2000 })\n\n  const downloadAsFile = () => {\n    if (typeof window === 'undefined') {\n      return\n    }\n    const fileExtension = programmingLanguages[language] || '.file'\n    const suggestedFileName = `file-${generateId()}${fileExtension}`\n    const fileName = window.prompt('Enter file name' || '', suggestedFileName)\n\n    if (!fileName) {\n      // User pressed cancel on prompt.\n      return\n    }\n\n    const blob = new Blob([value], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.download = fileName\n    link.href = url\n    link.style.display = 'none'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    URL.revokeObjectURL(url)\n  }\n\n  const onCopy = () => {\n    if (isCopied) return\n    copyToClipboard(value)\n  }\n\n  return (\n    <div className=\"relative w-full font-sans codeblock bg-neutral-800\">\n      <div className=\"flex items-center justify-between w-full px-6 py-1 pr-4 bg-neutral-700 text-zinc-100\">\n        <span className=\"text-xs lowercase\">{language}</span>\n        <div className=\"flex items-center space-x-1\">\n          <Button\n            variant=\"ghost\"\n            className=\"focus-visible:ring-1\"\n            onClick={downloadAsFile}\n            size=\"icon\"\n          >\n            <Download className=\"w-4 h-4\" />\n            <span className=\"sr-only\">Download</span>\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"text-xs focus-visible:ring-1 focus-visible:ring-offset-0\"\n            onClick={onCopy}\n          >\n            {isCopied ? (\n              <Check className=\"w-4 h-4\" />\n            ) : (\n              <Copy className=\"w-4 h-4\" />\n            )}\n            <span className=\"sr-only\">Copy code</span>\n          </Button>\n        </div>\n      </div>\n      <SyntaxHighlighter\n        language={language}\n        style={coldarkDark}\n        PreTag=\"div\"\n        showLineNumbers\n        customStyle={{\n          margin: 0,\n          width: '100%',\n          background: 'transparent',\n          padding: '1.5rem 1rem'\n        }}\n        lineNumberStyle={{\n          userSelect: 'none'\n        }}\n        codeTagProps={{\n          style: {\n            fontSize: '0.9rem',\n            fontFamily: 'var(--font-mono)'\n          }\n        }}\n      >\n        {value}\n      </SyntaxHighlighter>\n    </div>\n  )\n})\nCodeBlock.displayName = 'CodeBlock'\n\nexport { CodeBlock }\n"],"names":[],"mappings":"AAAA,oFAAoF;AACpF,iHAAiH;;;;;;;;;;;;;;;;;;AAEjH;;;;;;;;AAoBO,MAAM,uBAAoC;IAC/C,YAAY;IACZ,QAAQ;IACR,MAAM;IACN,GAAG;IACH,KAAK;IACL,OAAO;IACP,MAAM;IACN,MAAM;IACN,KAAK;IACL,OAAO;IACP,eAAe;IACf,QAAQ;IACR,YAAY;IACZ,IAAI;IACJ,MAAM;IACN,MAAM;IACN,OAAO;IACP,SAAS;IACT,KAAK;IACL,OAAO;IACP,KAAK;IACL,MAAM;IACN,KAAK;AAEP;AAEA,MAAM,0BAAuB,GAAA,CAAA,GAAA,6JAAA,CAAA,OAAI,AAAD,UAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;;IACpD,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,qBAAkB,AAAD,EAAE;QAAE,SAAS;IAAK;IAEzE,MAAM,iBAAiB;QACrB,IAAI,OAAO,WAAW,aAAa;YACjC;QACF;QACA,MAAM,gBAAgB,oBAAoB,CAAC,SAAS,IAAI;QACxD,MAAM,oBAAoB,CAAC,KAAK,EAAE,CAAA,GAAA,uJAAA,CAAA,aAAU,AAAD,IAAI,EAAE,cAAc,CAAC;QAChE,MAAM,WAAW,OAAO,MAAM,CAAC,qBAAqB,IAAI;QAExD,IAAI,CAAC,UAAU;YACb,iCAAiC;YACjC;QACF;QAEA,MAAM,OAAO,IAAI,KAAK;YAAC;SAAM,EAAE;YAAE,MAAM;QAAa;QACpD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG;QAChB,KAAK,IAAI,GAAG;QACZ,KAAK,KAAK,CAAC,OAAO,GAAG;QACrB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,SAAS;QACb,IAAI,UAAU;QACd,gBAAgB;IAClB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAqB;;;;;;kCACrC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,8HAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS;gCACT,MAAK;;kDAEL,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;0CAE5B,6LAAC,8HAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;;oCAER,yBACC,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;6DAEjB,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAElB,6LAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAIhC,6LAAC,6MAAA,CAAA,QAAiB;gBAChB,UAAU;gBACV,OAAO,4LAAA,CAAA,cAAW;gBAClB,QAAO;gBACP,eAAe;gBACf,aAAa;oBACX,QAAQ;oBACR,OAAO;oBACP,YAAY;oBACZ,SAAS;gBACX;gBACA,iBAAiB;oBACf,YAAY;gBACd;gBACA,cAAc;oBACZ,OAAO;wBACL,UAAU;wBACV,YAAY;oBACd;gBACF;0BAEC;;;;;;;;;;;;AAIT;;QAtFwC,iJAAA,CAAA,qBAAkB;;;;QAAlB,iJAAA,CAAA,qBAAkB;;;;AAuF1D,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 3760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3765, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/message.tsx"],"sourcesContent":["'use client'\n\nimport { MemoizedReactMarkdown } from './ui/markdown'\nimport rehypeExternalLinks from 'rehype-external-links'\nimport remarkGfm from 'remark-gfm'\nimport remarkMath from 'remark-math'\nimport rehypeKatex from 'rehype-katex'\nimport 'katex/dist/katex.min.css'\nimport { CodeBlock } from './ui/codeblock'\n\nexport function BotMessage({ content }: { content: string }) {\n  // Check if the content contains LaTeX patterns\n  const containsLaTeX = /\\\\\\[([\\s\\S]*?)\\\\\\]|\\\\\\(([\\s\\S]*?)\\\\\\)/.test(\n    content || ''\n  )\n\n  // Modify the content to render LaTeX equations if LaTeX patterns are found\n  const processedData = preprocessLaTeX(content || '')\n\n  if (containsLaTeX) {\n    return (\n      <MemoizedReactMarkdown\n        rehypePlugins={[\n          [rehypeExternalLinks, { target: '_blank' }],\n          [rehypeKatex]\n        ]}\n        remarkPlugins={[remarkGfm, remarkMath]}\n        className=\"prose-sm prose-neutral prose-a:text-accent-foreground/50\"\n      >\n        {processedData}\n      </MemoizedReactMarkdown>\n    )\n  }\n\n  return (\n    <MemoizedReactMarkdown\n      rehypePlugins={[[rehypeExternalLinks, { target: '_blank' }]]}\n      remarkPlugins={[remarkGfm]}\n      className=\"prose-sm prose-neutral prose-a:text-accent-foreground/50\"\n      components={{\n        code({ node, inline, className, children, ...props }) {\n          if (children.length) {\n            if (children[0] == '▍') {\n              return (\n                <span className=\"mt-1 cursor-default animate-pulse\">▍</span>\n              )\n            }\n\n            children[0] = (children[0] as string).replace('`▍`', '▍')\n          }\n\n          const match = /language-(\\w+)/.exec(className || '')\n\n          if (inline) {\n            return (\n              <code className={className} {...props}>\n                {children}\n              </code>\n            )\n          }\n\n          return (\n            <CodeBlock\n              key={Math.random()}\n              language={(match && match[1]) || ''}\n              value={String(children).replace(/\\n$/, '')}\n              {...props}\n            />\n          )\n        }\n      }}\n    >\n      {content}\n    </MemoizedReactMarkdown>\n  )\n}\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\nconst preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`\n  )\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`\n  )\n  return inlineProcessedContent\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;;AAUO,SAAS,WAAW,EAAE,OAAO,EAAuB;IACzD,+CAA+C;IAC/C,MAAM,gBAAgB,wCAAwC,IAAI,CAChE,WAAW;IAGb,2EAA2E;IAC3E,MAAM,gBAAgB,gBAAgB,WAAW;IAEjD,IAAI,eAAe;QACjB,qBACE,6LAAC,gIAAA,CAAA,wBAAqB;YACpB,eAAe;gBACb;oBAAC,8JAAA,CAAA,UAAmB;oBAAE;wBAAE,QAAQ;oBAAS;iBAAE;gBAC3C;oBAAC,2IAAA,CAAA,UAAW;iBAAC;aACd;YACD,eAAe;gBAAC,yIAAA,CAAA,UAAS;gBAAE,0IAAA,CAAA,UAAU;aAAC;YACtC,WAAU;sBAET;;;;;;IAGP;IAEA,qBACE,6LAAC,gIAAA,CAAA,wBAAqB;QACpB,eAAe;YAAC;gBAAC,8JAAA,CAAA,UAAmB;gBAAE;oBAAE,QAAQ;gBAAS;aAAE;SAAC;QAC5D,eAAe;YAAC,yIAAA,CAAA,UAAS;SAAC;QAC1B,WAAU;QACV,YAAY;YACV,MAAK,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;gBAClD,IAAI,SAAS,MAAM,EAAE;oBACnB,IAAI,QAAQ,CAAC,EAAE,IAAI,KAAK;wBACtB,qBACE,6LAAC;4BAAK,WAAU;sCAAoC;;;;;;oBAExD;oBAEA,QAAQ,CAAC,EAAE,GAAG,AAAC,QAAQ,CAAC,EAAE,CAAY,OAAO,CAAC,OAAO;gBACvD;gBAEA,MAAM,QAAQ,iBAAiB,IAAI,CAAC,aAAa;gBAEjD,IAAI,QAAQ;oBACV,qBACE,6LAAC;wBAAK,WAAW;wBAAY,GAAG,KAAK;kCAClC;;;;;;gBAGP;gBAEA,qBACE,6LAAC,iIAAA,CAAA,YAAS;oBAER,UAAU,AAAC,SAAS,KAAK,CAAC,EAAE,IAAK;oBACjC,OAAO,OAAO,UAAU,OAAO,CAAC,OAAO;oBACtC,GAAG,KAAK;mBAHJ,KAAK,MAAM;;;;;YAMtB;QACF;kBAEC;;;;;;AAGP;KAjEgB;AAmEhB,qDAAqD;AACrD,6DAA6D;AAC7D,MAAM,kBAAkB,CAAC;IACvB,MAAM,wBAAwB,QAAQ,OAAO,CAC3C,uBACA,CAAC,GAAG,WAAa,CAAC,EAAE,EAAE,SAAS,EAAE,CAAC;IAEpC,MAAM,yBAAyB,sBAAsB,OAAO,CAC1D,uBACA,CAAC,GAAG,WAAa,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;IAElC,OAAO;AACT"}},
    {"offset": {"line": 3883, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3888, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/answer-section.tsx"],"sourcesContent":["'use client'\n\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Section } from './section'\nimport { StreamableValue, useStreamableValue } from 'ai/rsc'\nimport { BotMessage } from './message'\nimport { useEffect, useState } from 'react'\n\nexport type AnswerSectionProps = {\n  result?: StreamableValue<string>\n  hasHeader?: boolean\n}\n\nexport function AnswerSection({\n  result,\n  hasHeader = true\n}: AnswerSectionProps) {\n  const [data, error, pending] = useStreamableValue(result)\n  const [content, setContent] = useState<string>('')\n\n  useEffect(() => {\n    if (!data) return\n    setContent(data)\n  }, [data])\n\n  return (\n    <div>\n      {content.length > 0 ? (\n        <Section title={hasHeader ? 'Answer' : undefined}>\n          <BotMessage content={content} />\n        </Section>\n      ) : (\n        <div className=\"flex flex-col gap-2 py-2\">\n          <Skeleton className=\"h-6 w-48\" />\n          <Skeleton className=\"w-full h-6\" />\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAaO,SAAS,cAAc,EAC5B,MAAM,EACN,YAAY,IAAI,EACG;;IACnB,MAAM,CAAC,MAAM,OAAO,QAAQ,GAAG,CAAA,GAAA,sJAAA,CAAA,qBAAkB,AAAD,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;QACX,WAAW;IACb,GAAG;QAAC;KAAK;IAET,qBACE,6LAAC;kBACE,QAAQ,MAAM,GAAG,kBAChB,6LAAC,yHAAA,CAAA,UAAO;YAAC,OAAO,YAAY,WAAW;sBACrC,cAAA,6LAAC,yHAAA,CAAA,aAAU;gBAAC,SAAS;;;;;;;;;;iCAGvB,6LAAC;YAAI,WAAU;;8BACb,6LAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,6LAAC,gIAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAK9B;GA1BgB;;QAIiB,sJAAA,CAAA,qBAAkB;;;KAJnC"}},
    {"offset": {"line": 3967, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3972, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/copilot-display.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { Check } from 'lucide-react'\nimport { Card } from './ui/card'\n\ninterface CopilotDisplayProps {\n  content: string\n}\n\nexport function CopilotDisplay({ content }: CopilotDisplayProps) {\n  try {\n    const json = JSON.parse(content)\n    const formDataEntries = Object.entries(json)\n    const query = formDataEntries\n      .filter(\n        ([key, value]) =>\n          value === 'on' || (key === 'additional_query' && value !== '')\n      )\n      .map(([key, value]) => (key === 'additional_query' ? value : key))\n      .join(', ')\n\n    return (\n      <Card className=\"p-3 md:p-4 w-full flex justify-between items-center\">\n        <h5 className=\"text-muted-foreground text-xs truncate\">{query}</h5>\n        <Check size={16} className=\"text-green-500 w-4 h-4\" />\n      </Card>\n    )\n  } catch (error) {\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAUO,SAAS,eAAe,EAAE,OAAO,EAAuB;IAC7D,IAAI;QACF,MAAM,OAAO,KAAK,KAAK,CAAC;QACxB,MAAM,kBAAkB,OAAO,OAAO,CAAC;QACvC,MAAM,QAAQ,gBACX,MAAM,CACL,CAAC,CAAC,KAAK,MAAM,GACX,UAAU,QAAS,QAAQ,sBAAsB,UAAU,IAE9D,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,GAAM,QAAQ,qBAAqB,QAAQ,KAC5D,IAAI,CAAC;QAER,qBACE,6LAAC,4HAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,6LAAC;oBAAG,WAAU;8BAA0C;;;;;;8BACxD,6LAAC,uMAAA,CAAA,QAAK;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;;IAGjC,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;KArBgB"}},
    {"offset": {"line": 4020, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4025, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,8JAAM,UAAU,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAe,IAAI;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,wHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,qKAAe,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 4056, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4061, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/error-card.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { Card } from './ui/card'\nimport { Button } from './ui/button'\nimport { RefreshCcw } from 'lucide-react'\nimport { Label } from './ui/label'\nimport { useUIState, useActions, useAIState } from 'ai/rsc'\nimport { AI } from '@/app/actions'\nimport { AIMessage } from '@/lib/types'\n\ntype ErrorCardProps = {\n  errorMessage: string\n}\n\nexport const ErrorCard: React.FC<ErrorCardProps> = ({ errorMessage }) => {\n  const [messages, setMessages] = useUIState<typeof AI>()\n  const [aiState, setAIState] = useAIState<typeof AI>()\n  const { submit } = useActions()\n\n  const handleRetry = async () => {\n    // Remove the last message from the UIState\n    setMessages(messages.slice(0, -1))\n\n    const aiMessages = aiState.messages\n    // Get the last message with role = user\n    const lastUserMessage = [...aiMessages]\n      .reverse()\n      .find(m => m.role === 'user')\n\n    let retryMessages: AIMessage[] = []\n    // Remove messages after lastUserMessage, cannot identify by id, so process by order\n    if (lastUserMessage) {\n      const lastUserMessageIndex = aiMessages.findIndex(\n        m => m === lastUserMessage\n      )\n      retryMessages = aiMessages.slice(0, lastUserMessageIndex + 1)\n    }\n    // Request retry from the server and add the response to the current messages\n    const response = await submit(undefined, false, retryMessages)\n    setMessages(currentMessages => [...currentMessages, response])\n  }\n\n  return (\n    <Card className=\"p-4\">\n      <form\n        className=\"flex flex-col items-center space-y-4\"\n        action={handleRetry}\n      >\n        <Label>{errorMessage}</Label>\n        <Button size=\"sm\" className=\"w-fit\" type=\"submit\">\n          <RefreshCcw size={14} className=\"mr-1\" />\n          Retry\n        </Button>\n      </form>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAeO,MAAM,YAAsC,CAAC,EAAE,YAAY,EAAE;;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IACvC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,sJAAA,CAAA,aAAU,AAAD;IAE5B,MAAM,cAAc;QAClB,2CAA2C;QAC3C,YAAY,SAAS,KAAK,CAAC,GAAG,CAAC;QAE/B,MAAM,aAAa,QAAQ,QAAQ;QACnC,wCAAwC;QACxC,MAAM,kBAAkB;eAAI;SAAW,CACpC,OAAO,GACP,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;QAExB,IAAI,gBAA6B,EAAE;QACnC,oFAAoF;QACpF,IAAI,iBAAiB;YACnB,MAAM,uBAAuB,WAAW,SAAS,CAC/C,CAAA,IAAK,MAAM;YAEb,gBAAgB,WAAW,KAAK,CAAC,GAAG,uBAAuB;QAC7D;QACA,6EAA6E;QAC7E,MAAM,WAAW,MAAM,OAAO,WAAW,OAAO;QAChD,YAAY,CAAA,kBAAmB;mBAAI;gBAAiB;aAAS;IAC/D;IAEA,qBACE,6LAAC,4HAAA,CAAA,OAAI;QAAC,WAAU;kBACd,cAAA,6LAAC;YACC,WAAU;YACV,QAAQ;;8BAER,6LAAC,6HAAA,CAAA,QAAK;8BAAE;;;;;;8BACR,6LAAC,8HAAA,CAAA,SAAM;oBAAC,MAAK;oBAAK,WAAU;oBAAQ,MAAK;;sCACvC,6LAAC,qNAAA,CAAA,aAAU;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAS;;;;;;;;;;;;;;;;;;AAMnD;GA1Ca;;QACqB,sJAAA,CAAA,aAAU;QACZ,sJAAA,CAAA,aAAU;QACrB,sJAAA,CAAA,aAAU;;;KAHlB"}},
    {"offset": {"line": 4160, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}